/* Rev: 2025-09-24 13:39 r4 */
:root{
  --weekW: 96px;
  --rowH: 72px;
  --leftW: 320px;
  --headerH: 40px;   /* Ay satırı */
  --header2H: 36px;  /* Hafta satırı */
  --radius: 10px;

  --bg: #f7f8fb;
  --fg: #1f2937;
  --muted: #6b7280;

  --chip: #e5efff;         /* plan çipi rengi */
  --chipBorder:#8ab4ff;

  /* Zebra (haftalar) */
  --weekBgA: #fcfcfd;
  --weekBgB: #f4f6fb;
}

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{ margin:0; background: var(--bg); color: var(--fg); font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.plans-page{ padding: 8px 0 24px; }

/* full width */
.fullbleed{
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
  padding-left:8px;
  padding-right:8px;
}

.btn{ display:inline-block; padding:6px 10px; border:1px solid #e5e7eb; border-radius:8px; background:#fff; cursor:pointer; user-select:none; }
.btn:hover{ background:#f9fafb; }
.btn-ghost{ background:transparent; }
.year-nav{ display:flex; align-items:center; gap:8px; }
.year-pill{ font-weight:700; padding:4px 10px; border-radius:999px; background:#eef2ff; }

/* === BOARD === */
.board{
  display:grid;
  grid-template-rows: calc(var(--headerH) + var(--header2H)) 1fr;
  overflow-x:auto;
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius: var(--radius);
}

.header{
  display:grid;
  grid-template-columns: var(--leftW) 1fr;
  grid-template-rows: var(--headerH) var(--header2H);
  position:sticky; top:0; z-index:5;
  background:#fff;
  border-bottom:1px solid #e5e7eb;
}

/* Sol başlık 2 satırı kaplar */
.corner{
  grid-row: 1 / span 2;
  display:flex; align-items:center; justify-content:center;
  font-weight:700; color:#111827;
  border-right:1px solid #e5e7eb;
  background:#f9fafb;
}

/* Aylar/Haftalar soldaki kolondan sonra başlar */
.months{
  grid-column:2; grid-row:1;
  display:grid; grid-auto-flow:column; grid-auto-columns: var(--weekW);
  border-bottom:1px solid #e5e7eb;
}
.month{
  display:flex; align-items:center; justify-content:center;
  font-weight:600; color:#000;
  border-left:1px solid #f3f4f6;
}

.weeks{
  grid-column:2; grid-row:2;
  display:grid; grid-auto-flow:column; grid-auto-columns: var(--weekW);
}
.week{
  display:flex; align-items:center; justify-content:center;
  font-size:12px; color:#6b7280; border-left:1px solid #f3f4f6;
}
/* Zebra: haftalar üstte de görünsün */
.weeks .week:nth-child(odd){ background: var(--weekBgB); }
.weeks .week:nth-child(even){ background: var(--weekBgA); }

/* Satırlar */
.rows{ display:grid; grid-auto-rows: var(--rowH); }
.row{ display:grid; grid-template-columns: var(--leftW) 1fr; }

.row-label{
  display:flex; align-items:center; gap:8px;
  padding:0 10px;
  font-weight:500; color:#111827; background:#f9fafb;
  border-top:1px solid #e5e7eb; border-right:1px solid #e5e7eb;
}

/* Sağ taraf: zebra desenli arka plan */
.row-grid{
  position:relative; overflow:hidden; background:
    repeating-linear-gradient(
      to right,
      var(--weekBgA) 0,
      var(--weekBgA) var(--weekW),
      var(--weekBgB) var(--weekW),
      var(--weekBgB) calc(2 * var(--weekW))
    );
  border-top:1px solid #e5e7eb;
}

/* Haftalık kılavuz çizgileri (isteğe bağlı) */
.row-grid .w{
  position:absolute; top:0; bottom:0; width:var(--weekW);
  border-left:1px dashed #e6e9f0;
}

/* Plan çipi: sadece başlık, tıklanabilir */
.block{
  position:absolute; height: calc(var(--rowH) - 10px); top:5px;
  border-radius:8px; padding:6px 10px;
  background: var(--chip); border:1px solid var(--chipBorder);
  color:#111827; font-size:13px; font-weight:600;
  display:flex; align-items:center; gap:8px; white-space:nowrap;
  overflow:hidden; text-overflow:ellipsis;
  cursor:pointer;
}
.block:hover{ filter: brightness(0.98); }

/* Tooltip (hover’da sabit kalsın) */
.tooltip{
  position: fixed; z-index: 20; width: 320px;
  background:#fff; border:1px solid #e5e7eb; border-radius:8px;
  box-shadow: 0 6px 24px rgba(0,0,0,.12);
  padding:10px;
}
.tooltip .t-title{ font-weight:700; margin-bottom:4px; }
.tooltip .t-sub{ color:#6b7280; margin-bottom:6px; }
.tooltip .t-body{ font-size:13px; white-space:pre-line; }
.tooltip .t-actions{ margin-top:10px; text-align:right; }
